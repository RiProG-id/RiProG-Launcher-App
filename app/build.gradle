plugins {
    id 'com.android.application'
    id 'com.google.devtools.ksp'
}

android {
    compileSdk = 36
    namespace = 'com.riprog.launcher'

    defaultConfig {
        applicationId = "com.riprog.launcher"
        minSdkVersion = 23
        targetSdk = 36
        versionCode = 300
        versionName = "3.0.0"
        resConfigs "en"
    }

    signingConfigs {
        release {
            storeFile = file('release.keystore')
            storePassword = RELEASE_STORE_PASSWORD
            keyAlias = RELEASE_KEY_ALIAS
            keyPassword = RELEASE_KEY_PASSWORD
        }
    }

    buildTypes {
        release {
            minifyEnabled = false
            shrinkResources = false
            signingConfig = signingConfigs.release
        }
        debug {
            minifyEnabled = false
            shrinkResources = false
            signingConfig = signingConfigs.release
        }
    }

    buildFeatures {
        buildConfig = true
    }

    compileOptions {
        sourceCompatibility = JavaVersion.VERSION_21
        targetCompatibility = JavaVersion.VERSION_21
    }

    kotlin {
        compilerOptions {
            jvmTarget = org.jetbrains.kotlin.gradle.dsl.JvmTarget.JVM_21
            allWarningsAsErrors = true
        }
    }

    tasks.withType(JavaCompile).configureEach {
        options.compilerArgs << "-Xlint:all" << "-Xlint:-options" << "-Xlint:-processing" << "-Werror"
    }

    lint {
        abortOnError = true
        checkReleaseBuilds = true
        warningsAsErrors = true
    }
}

dependencies {
    implementation "org.jetbrains.kotlin:kotlin-stdlib:2.3.10"

    implementation "org.jetbrains.kotlinx:kotlinx-coroutines-android:1.10.2"

    implementation "androidx.appcompat:appcompat:1.7.0"
    implementation "androidx.activity:activity-ktx:1.12.4"
    implementation "androidx.lifecycle:lifecycle-viewmodel-ktx:2.10.0"
    implementation "androidx.lifecycle:lifecycle-runtime-ktx:2.10.0"
    implementation "androidx.lifecycle:lifecycle-livedata-ktx:2.10.0"

    implementation "androidx.room:room-runtime:2.8.4"
    implementation "androidx.room:room-ktx:2.8.4"
    ksp "androidx.room:room-compiler:2.8.4"

    implementation "androidx.datastore:datastore-preferences:1.2.0"

    implementation "io.insert-koin:koin-android:4.1.1"

    testImplementation 'junit:junit:4.13.2'
}
